{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Stephen/OneDrive/Desktop/New folder (13)/ProjectDissertation/quizzer/quizzer/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Stephen/OneDrive/Desktop/New folder (13)/ProjectDissertation/quizzer/quizzer/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{getChatData,sendMessage,getMoreChatData,DeleteMessage}from'../services/chat';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MainChat(props){//creating states for form/message\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),body=_useState2[0],setBody=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),chatFile=_useState4[0],setChatFile=_useState4[1];//state if data is loaded or not boolean\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),dataLoaded=_useState6[0],setdataLoaded=_useState6[1];//for user data stored in browser - using f12\nvar userData=JSON.parse(localStorage.getItem(\"user\"));//State for the chat load more button\nvar _useState7=useState(),_useState8=_slicedToArray(_useState7,2),hasNext=_useState8[0],setHasNext=_useState8[1];//This is to retrieve the filename to the input\nvar fileNameChatFile=document.querySelector('#chat-file .file-name');useEffect(function(){//hook\n//get the token\nvar token=localStorage.getItem(\"token\");setHasNext(null);//watch the props for text channel, if it has data\nif(props.TextChannel!==null){getChatData(props.TextChannel.id,token)//props is now text channel id\n.then(function(response){props.setchatData(response.results);//set new chat data using props\nsetdataLoaded(true);//if response is different to null\nif(response.next!==null){setHasNext(response.next);}});}},[props.TextChannel]);//these are for submitting forms\nvar handleSubmit=function handleSubmit(e){e.preventDefault();//get body, chatfile and new props textchannel.id\nsendMessage(body,chatFile,props.TextChannel.id).then(function(response){//set the new chat data with props\nprops.setchatData([response].concat(_toConsumableArray(props.chatData)));});//value 'text_area_c' is tag from code below used to display in html/js\ndocument.getElementById('text_area_c').value='';fileNameChatFile.textContent='';};var handleLoadMore=function handleLoadMore(e){e.preventDefault();//get relevant the token\nvar token=localStorage.getItem(\"token\");//to load chat data\ngetMoreChatData(hasNext,token).then(function(response){//Inverted so the messages can apppear on the top right after the load more button\nprops.setchatData([].concat(_toConsumableArray(props.chatData),_toConsumableArray(response.results)));if(response.next!==null){setHasNext(response.next);}else{setHasNext(null);//used in html/js below\ndocument.getElementById('loadmorebtn').style.display='none';}});};//function to delete chat message\nvar handleDeleteMsg=function handleDeleteMsg(e){e.preventDefault();DeleteMessage(e.target.id,props.server).then(function(response){document.getElementById(e.target.id).parentNode.parentNode.style.display='none';});};{/* if there is data*/}if(dataLoaded===true){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"hero is-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:props.TextChannel!==null?props.TextChannel.title:''}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:props.TextChannel!==null?props.TextChannel.topic:''})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"button\",{id:\"loadmorebtn\",onClick:handleLoadMore,style:{display:hasNext?\"flex\":\"none\"},className:\"button is-dark\",children:\"Load more\"})}),/*#__PURE__*/_jsx(\"ol\",{style:{listStyle:\"none\",display:\"flex\",flexDirection:\"column-reverse\"},className:\"collection\",children:props.chatData.map(function(chat){return/*#__PURE__*/_jsx(\"li\",{className:\"pt-3\",children:/*#__PURE__*/_jsxs(\"article\",{className:\"media\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"media-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"image is-64x64\",children:/*#__PURE__*/_jsx(\"img\",{className:\"is-rounded\",src:chat.user.profile.picture})})}),/*#__PURE__*/_jsx(\"div\",{className:\"media-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:chat.user.username}),/*#__PURE__*/_jsx(\"small\",{children:chat.date})]}),/*#__PURE__*/_jsx(\"p\",{children:chat.body}),/*#__PURE__*/_jsx(\"img\",{src:chat.file})]})}),props.isAdmin?/*#__PURE__*/_jsx(\"div\",{className:\"media-right\",children:/*#__PURE__*/_jsx(\"button\",{id:chat.id,onClick:handleDeleteMsg,className:\"delete\"})}):/*#__PURE__*/_jsx(\"div\",{})]})},chat.id);})}),/*#__PURE__*/_jsxs(\"article\",{className:\"media\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"media-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"image is-64x64\",children:/*#__PURE__*/_jsx(\"img\",{className:\"is-rounded\",src:userData.picture})})}),/*#__PURE__*/_jsx(\"div\",{className:\"media-content\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"p\",{className:\"control\",children:/*#__PURE__*/_jsx(\"textarea\",{id:\"text_area_c\",className:\"textarea\",name:\"body\",placeholder:\"Add a comment...\",onChange:function onChange(e){return setBody(e.target.value);}})})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"level\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"level-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button is-light\",children:\"Submit\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"level-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"level-item\",children:/*#__PURE__*/_jsx(\"div\",{id:\"chat-file\",className:\"file is-right is-dark\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"file-label\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"chatf\",className:\"file-input\",type:\"file\",name:\"chatf\",onChange:function onChange(e){setChatFile(e.target.files[0]);//this is to set the filename to the file button/input\nvar fileInput=document.getElementById('chatf');if(fileInput.files.length>0){fileNameChatFile.textContent=fileInput.files[0].name;}}}),/*#__PURE__*/_jsxs(\"span\",{className:\"file-cta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"file-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"file_upload\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"file-label\",children:\"Add a file\\u2026\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"file-name\"})]})})})})]})]})})]})]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"container is-max-desktop content is-large has-text-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"notification is-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"refresh\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"title is-5\",children:\"Nothing to show, click on one of the channels.\"})]})});}}export default MainChat;","map":{"version":3,"sources":["C:/Users/Stephen/OneDrive/Desktop/New folder (13)/ProjectDissertation/quizzer/quizzer/frontend/src/components/layout/MainChat.js"],"names":["React","useState","useEffect","getChatData","sendMessage","getMoreChatData","DeleteMessage","MainChat","props","body","setBody","chatFile","setChatFile","dataLoaded","setdataLoaded","userData","JSON","parse","localStorage","getItem","hasNext","setHasNext","fileNameChatFile","document","querySelector","token","TextChannel","id","then","response","setchatData","results","next","handleSubmit","e","preventDefault","chatData","getElementById","value","textContent","handleLoadMore","style","display","handleDeleteMsg","target","server","parentNode","title","topic","listStyle","flexDirection","map","chat","user","profile","picture","username","date","file","isAdmin","files","fileInput","length","name"],"mappings":"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","sourcesContent":["\r\nimport React, {useState, useEffect} from 'react'\r\nimport { getChatData, sendMessage, getMoreChatData, DeleteMessage } from '../services/chat';\r\n\r\n\r\nfunction MainChat(props) {\r\n    //creating states for form/message\r\n    const [body, setBody] = useState();\r\n    const [chatFile, setChatFile] = useState();\r\n    //state if data is loaded or not boolean\r\n    const [dataLoaded, setdataLoaded] = useState(false);\r\n    //for user data stored in browser - using f12\r\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n    //State for the chat load more button\r\n    const [hasNext, setHasNext] = useState();\r\n\r\n    //This is to retrieve the filename to the input\r\n    const fileNameChatFile = document.querySelector('#chat-file .file-name');\r\n\r\n    useEffect(() => { //hook\r\n    //get the token\r\n     const token = localStorage.getItem(\"token\"); \r\n     setHasNext(null);\r\n\r\n     //watch the props for text channel, if it has data\r\n     if (props.TextChannel !== null){\r\n        getChatData(props.TextChannel.id, token) //props is now text channel id\r\n        .then(response => {\r\n            props.setchatData(response.results); //set new chat data using props\r\n            setdataLoaded(true);\r\n            //if response is different to null\r\n            if (response.next !== null){\r\n                setHasNext(response.next);\r\n            }\r\n        })\r\n     }\r\n\r\n    },[props.TextChannel]);\r\n\r\n    //these are for submitting forms\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        //get body, chatfile and new props textchannel.id\r\n        sendMessage(body, chatFile, props.TextChannel.id)\r\n        .then(response => {\r\n            //set the new chat data with props\r\n            props.setchatData([response, ...props.chatData])\r\n        })\r\n        //value 'text_area_c' is tag from code below used to display in html/js\r\n        document.getElementById('text_area_c').value = '';\r\n        fileNameChatFile.textContent = '';\r\n    };\r\n\r\n    const handleLoadMore = (e) => {\r\n        e.preventDefault();\r\n        //get relevant the token\r\n        const token = localStorage.getItem(\"token\");\r\n        //to load chat data\r\n        getMoreChatData(hasNext, token)\r\n        .then(response => {\r\n            //Inverted so the messages can apppear on the top right after the load more button\r\n            props.setchatData([...props.chatData, ...response.results]);\r\n            if(response.next !== null){\r\n                setHasNext(response.next);\r\n            } else {\r\n                setHasNext(null);\r\n                //used in html/js below\r\n                document.getElementById('loadmorebtn').style.display='none';\r\n            }\r\n        })\r\n    };\r\n\r\n    //function to delete chat message\r\n    const handleDeleteMsg = (e) => {\r\n        e.preventDefault();\r\n        DeleteMessage(e.target.id, props.server)\r\n        .then(response =>{\r\n            document.getElementById(e.target.id).parentNode.parentNode.style.display='none';\r\n        })\r\n    };\r\n\r\n    {/* if there is data*/}\r\nif (dataLoaded === true) {\r\n\r\nreturn (\r\n    <div>\r\n        <section className=\"hero is-dark\">\r\n            <div className=\"hero-body\">\r\n                {/* display relevant text channel and topic. Condition if its not null then render */}\r\n                <p className=\"title\">{props.TextChannel !== null ? props.TextChannel.title : ''}</p>\r\n                <p className=\"subtitle\">{props.TextChannel !== null ? props.TextChannel.topic : ''}</p>\r\n            </div>\r\n        </section>\r\n\r\n        <div className=\"level-item\">\r\n            {/* button to load more content */}\r\n            <button id=\"loadmorebtn\" onClick={handleLoadMore} style={{display: hasNext ? \"flex\" : \"none\"}} className=\"button is-dark\">Load more</button>\r\n        </div>\r\n         {/* Bulma list style | mapping out chat.id, chatbody, profile image and button for admins to delete messages*/}\r\n        <ol style={{listStyle: \"none\", display:\"flex\", flexDirection:\"column-reverse\"}} className=\"collection\">\r\n        {props.chatData.map(chat =>(\r\n        <li key={chat.id} className=\"pt-3\">\r\n            <article className=\"media\">\r\n            <figure className=\"media-left\">\r\n                <p className=\"image is-64x64\">\r\n                    <img className=\"is-rounded\" src={chat.user.profile.picture}/>\r\n                </p>\r\n            </figure>\r\n            <div className=\"media-content\">\r\n                <div className=\"content\">\r\n                <p><strong>{chat.user.username}</strong><small>{chat.date}</small></p>\r\n                <p>{chat.body}</p>\r\n                <img src={chat.file} />\r\n                </div>\r\n            </div>\r\n            {/* check if the person is an admin*/}\r\n            {props.isAdmin ? \r\n            <div className=\"media-right\">\r\n                <button id={chat.id} onClick={handleDeleteMsg} className=\"delete\"></button>\r\n            </div> : <div></div> }\r\n            </article>\r\n        </li>\r\n        ))}\r\n        </ol>\r\n\r\n        <article className=\"media\">\r\n        <figure className=\"media-left\">\r\n            <p className=\"image is-64x64\">\r\n            {/* get the user profile and display */}\r\n            <img className=\"is-rounded\" src={userData.picture} />\r\n            </p>\r\n        </figure>\r\n        <div className=\"media-content\">                   \r\n            {/* this is when user clicks to upload file*/}\r\n            <form onSubmit={handleSubmit}>\r\n            <div className=\"field\">\r\n            <p className=\"control\">\r\n                <textarea id=\"text_area_c\" className=\"textarea\" name=\"body\" placeholder=\"Add a comment...\" onChange={e => setBody(e.target.value)}></textarea>\r\n            </p>\r\n            </div>\r\n            <nav className=\"level\">\r\n            <div className=\"level-left\">\r\n                <div className=\"level-item\">\r\n                    <button type=\"submit\" className=\"button is-light\">Submit</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"level-right\">\r\n                <div className=\"level-item\">\r\n                    <div id=\"chat-file\" className=\"file is-right is-dark\">\r\n                    <label className=\"file-label\">\r\n                        <input id=\"chatf\" className=\"file-input\" type=\"file\" name=\"chatf\" onChange={e => {\r\n                            setChatFile(e.target.files[0])\r\n                            //this is to set the filename to the file button/input\r\n                            let fileInput = document.getElementById('chatf');\r\n                            if (fileInput.files.length > 0 ){\r\n                                fileNameChatFile.textContent = fileInput.files[0].name;\r\n                            }\r\n                        }} />\r\n                        <span className=\"file-cta\">\r\n                        <span className=\"file-icon\">\r\n                            <i className=\"material-icons\">file_upload</i>\r\n                        </span>\r\n                        <span className=\"file-label\">\r\n                            Add a fileâ€¦\r\n                        </span>\r\n                        </span>\r\n                        <span className=\"file-name\"></span>\r\n                    </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </nav>\r\n            </form>\r\n        </div>\r\n        </article>\r\n  \r\n    </div>\r\n) \r\n\r\n} else {\r\n  return (\r\n      \r\n       <div className=\"container is-max-desktop content is-large has-text-centered\">\r\n           <div className=\"notification is-light\">\r\n               <i className=\"material-icons\">refresh</i>\r\n               <h5 className=\"title is-5\">Nothing to show, click on one of the channels.</h5>\r\n          </div>\r\n       </div>\r\n   )\r\n  }\r\n}\r\n\r\nexport default MainChat"]},"metadata":{},"sourceType":"module"}