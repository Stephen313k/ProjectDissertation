{"ast":null,"code":"import axios from'axios';export var getChatData=function getChatData(id,token){//get token for channel id\naxios.defaults.headers.common[\"Authorization\"]=\"Token \"+token;//api url\nvar promise=axios.get('api/chat/getchats/'+id);//return data\nvar dataPromise=promise.then(function(response){return response.data;});return dataPromise;};export var getMoreChatData=function getMoreChatData(link,token){axios.defaults.headers.common[\"Authorization\"]=\"Token \"+token;var promise=axios.get(link);var dataPromise=promise.then(function(response){return response.data;});return dataPromise;};export var sendMessage=function sendMessage(body,chatfile,channel){//need header for multipart/form-data. sending a file\nvar config={headers:{'Content-Type':'multipart/form-data'}};var formData=new FormData();if(chatfile!==undefined){//pass in the file\nformData.append(\"file\",chatfile);}formData.append(\"body\",body);formData.append(\"channel\",channel);//request body\nvar promise=axios.post('api/chat/sendmessage/',formData,config);var dataPromise=promise.then(function(response){return response.data;});return dataPromise;};export var DeleteMessage=function DeleteMessage(message_id,server_id){var promise=axios.delete('api/chat/deletemsg/'+message_id+'/'+server_id);var dataPromise=promise.then(function(response){return response.data;});return dataPromise;};","map":{"version":3,"sources":["C:/Users/Stephen/OneDrive/Desktop/New folder (13)/ProjectDissertation/quizzer/quizzer/frontend/src/components/services/chat.js"],"names":["axios","getChatData","id","token","defaults","headers","common","promise","get","dataPromise","then","response","data","getMoreChatData","link","sendMessage","body","chatfile","channel","config","formData","FormData","undefined","append","post","DeleteMessage","message_id","server_id","delete"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAKC,KAAL,CAAe,CACtC;AACAH,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiD,SAAWH,KAA5D,CACA;AACA,GAAMI,CAAAA,OAAO,CAAGP,KAAK,CAACQ,GAAN,CAAU,qBAAuBN,EAAjC,CAAhB,CACA;AACA,GAAMO,CAAAA,WAAW,CAAGF,OAAO,CAACG,IAAR,CAAa,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAvB,EAAb,CAApB,CACA,MAAOH,CAAAA,WAAP,CACH,CARM,CAUP,MAAO,IAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,IAAD,CAAOX,KAAP,CAAiB,CAC5CH,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiD,SAAWH,KAA5D,CACA,GAAMI,CAAAA,OAAO,CAAGP,KAAK,CAACQ,GAAN,CAAUM,IAAV,CAAhB,CACA,GAAML,CAAAA,WAAW,CAAGF,OAAO,CAACG,IAAR,CAAa,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAvB,EAAb,CAApB,CACA,MAAOH,CAAAA,WAAP,CACH,CALM,CAOP,MAAO,IAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAOC,QAAP,CAAiBC,OAAjB,CAA6B,CACpD;AACA,GAAMC,CAAAA,MAAM,CAAG,CACXd,OAAO,CAAG,CACN,eAAiB,qBADX,CADC,CAAf,CAMD,GAAIe,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CAEC,GAAGJ,QAAQ,GAAKK,SAAhB,CAA0B,CACtB;AACAF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,CAAwBN,QAAxB,EACH,CACDG,QAAQ,CAACG,MAAT,CAAgB,MAAhB,CAAwBP,IAAxB,EACAI,QAAQ,CAACG,MAAT,CAAgB,SAAhB,CAA2BL,OAA3B,EAEA;AACA,GAAMX,CAAAA,OAAO,CAAGP,KAAK,CAACwB,IAAN,CAAW,uBAAX,CAAoCJ,QAApC,CAA8CD,MAA9C,CAAhB,CACA,GAAMV,CAAAA,WAAW,CAAGF,OAAO,CAACG,IAAR,CAAa,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAvB,EAAb,CAApB,CACA,MAAOH,CAAAA,WAAP,CACH,CArBM,CAuBP,MAAO,IAAMgB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,UAAD,CAAaC,SAAb,CAA2B,CACpD,GAAMpB,CAAAA,OAAO,CAAGP,KAAK,CAAC4B,MAAN,CAAa,sBAAwBF,UAAxB,CAAqC,GAArC,CAA2CC,SAAxD,CAAhB,CACA,GAAMlB,CAAAA,WAAW,CAAGF,OAAO,CAACG,IAAR,CAAa,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAvB,EAAb,CAApB,CACA,MAAOH,CAAAA,WAAP,CACH,CAJM","sourcesContent":["import axios from 'axios';\r\n\r\nexport const getChatData = (id, token) => {\r\n    //get token for channel id\r\n    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\r\n    //api url\r\n    const promise = axios.get('api/chat/getchats/' + id);\r\n    //return data\r\n    const dataPromise = promise.then((response) => response.data);\r\n    return dataPromise;\r\n};\r\n\r\nexport const getMoreChatData = (link, token) => {\r\n    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\r\n    const promise = axios.get(link);\r\n    const dataPromise = promise.then((response) => response.data);\r\n    return dataPromise;\r\n};\r\n\r\nexport const sendMessage = (body, chatfile, channel) => {\r\n    //need header for multipart/form-data. sending a file\r\n    const config = {\r\n        headers : {\r\n            'Content-Type' : 'multipart/form-data',\r\n        },\r\n    };\r\n\r\n   let formData = new FormData();\r\n    \r\n    if(chatfile !== undefined){\r\n        //pass in the file\r\n        formData.append(\"file\", chatfile);\r\n    }\r\n    formData.append(\"body\", body);\r\n    formData.append(\"channel\", channel);\r\n\r\n    //request body\r\n    const promise = axios.post('api/chat/sendmessage/', formData, config)\r\n    const dataPromise = promise.then((response) => response.data);\r\n    return dataPromise;\r\n};\r\n\r\nexport const DeleteMessage = (message_id, server_id) => {\r\n    const promise = axios.delete('api/chat/deletemsg/' + message_id + '/' + server_id);\r\n    const dataPromise = promise.then((response) => response.data);\r\n    return dataPromise;\r\n};"]},"metadata":{},"sourceType":"module"}